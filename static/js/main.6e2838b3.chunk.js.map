{"version":3,"sources":["Footer.js","App.js","index.js"],"names":["Footer","class","href","recognition","window","SpeechRecognition","webkitSpeechRecognition","App","useState","isList","setIsList","note","setNote","saveNote","setSaveNote","handleListen","start","onend","console","log","setTimeout","stop","onstart","onresult","e","current","resultIndex","transcript","results","onerror","error","useEffect","className","onClick","prevState","disabled","map","n","key","continuous","interimResults","lang","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wJAEe,SAASA,IACpB,OACI,oCACA,4BAAQC,MAAM,kBACZ,uBAAGA,MAAM,UAAT,aACA,0BAAMA,MAAM,OAAZ,WADA,MACqC,uBAAGA,MAAM,mBAAmBC,KAAK,8BAAjC,uBCL/C,IACMC,EAAc,IADMC,OAAOC,mBAAqBD,OAAOE,yBAM9C,SAASC,IAAO,IAAD,EAEAC,oBAAS,GAFT,mBAErBC,EAFqB,KAEbC,EAFa,OAGJF,mBAAS,MAHL,mBAGrBG,EAHqB,KAGfC,EAHe,OAIIJ,mBAAS,IAJb,mBAIrBK,EAJqB,KAIXC,EAJW,KAM9B,IACE,IAAMC,EAAe,WACnB,IACKN,GACDN,EAAYa,QACZb,EAAYc,MAAQ,WAClBC,QAAQC,IAAR,qCAEAC,YAAW,WACTjB,EAAYa,UACZ,OAGJb,EAAYkB,OACZlB,EAAYc,MAAQ,WAClBC,QAAQC,IAAR,oCAGJhB,EAAYmB,QAAU,WACpBJ,QAAQC,IAAR,8EAEFhB,EAAYoB,SAAW,SAAAC,GACrB,IAAIC,EAAUD,EAAEE,YACZC,EAAaH,EAAEI,QAAQH,GAAS,GAAGE,WACJ,IAAZF,GAAiBE,IAAeH,EAAEI,QAAQ,GAAG,GAAGD,aAGrEf,EAAQe,GACRxB,EAAY0B,QAAU,SAAAL,GAAC,OAAIN,QAAQC,IAAIK,EAAEM,QACtB,uBAAfH,GAAuC,wBAAfA,GAC1Bb,EAAY,YAAID,MAKtB,MAAOiB,GACPZ,QAAQC,IAAIW,KAGhBC,qBAAU,WACRhB,MACC,CAACA,EAAcN,IAElB,MAAOqB,GACPZ,QAAQC,IAAIW,GAQZ,OACE,oCACF,yBAAKE,UAAU,uEACb,yBAAKA,UAAU,gCACX,wBAAIA,UAAU,aAAY,uBAAG9B,KAAK,mBAAmB8B,UAAU,oCAArC,iEAC1B,wBAAIA,UAAU,0BAAd,8EACGvB,EAAS,8CAAyB,2DACnC,yBAAKuB,UAAU,gBACf,4BAAQC,QAAS,kBAAMvB,GAAU,SAAAwB,GAAS,OAAKA,MAAYF,UAAU,6CAArE,mEACA,0BAAMA,UAAU,WAChB,4BAAQC,QAfO,WACrBnB,EAAY,GAAD,mBAAKD,GAAL,CAAeF,KAC1BC,EAAQ,KAagCuB,UAAWxB,EAAMqB,UAAU,8CAA7D,kCACE,uBAAGA,UAAU,kBAAkBrB,KAGrC,yBAAKqB,UAAU,8CACX,wBAAIA,UAAU,MAAd,sDAA+BrB,GAC/B,yBAAKqB,UAAU,wCACZnB,EAASuB,KAAI,SAAAC,GAAC,OACP,0BAAML,UAAU,wBAAwBM,IAAKD,GAAIA,EAAjD,aAId,kBAACrC,EAAD,QApFNG,EAAYoC,YAAa,EACzBpC,EAAYqC,gBAAiB,EAC7BrC,EAAYsC,KAAO,QCFnBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACrC,EAAD,OAEFsC,SAASC,eAAe,U","file":"static/js/main.6e2838b3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <>\r\n        <footer class=\"footer bg-dark\">\r\n          <p class=\"p mb-0\"> Made with \r\n          <span class=\"red\"> &#10084;</span>by <a class=\"badge badge-info\" href=\"https://github.com/gurelbs\">Gurel Ben Shabat</a></p>\r\n      </footer>\r\n      </>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Footer from './Footer';\r\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\nconst recognition = new SpeechRecognition();\r\nrecognition.continuous = true;\r\nrecognition.interimResults = true;\r\nrecognition.lang = 'he-IL';\r\n\r\nexport default function App() {\r\n\r\n  const [isList, setIsList] = useState(false);\r\n  const [note, setNote] = useState(null);\r\n  const [saveNote, setSaveNote] = useState([]);\r\n\r\ntry {\r\n  const handleListen = () => {\r\n    try {\r\n      if(isList){\r\n        recognition.start();\r\n        recognition.onend = () => {\r\n          console.log(`ממשיך...`);\r\n\r\n          setTimeout(() => {\r\n            recognition.start();\r\n          },50)\r\n        }\r\n      } else {\r\n        recognition.stop();\r\n        recognition.onend = () => {\r\n          console.log(`מפסיק`);\r\n        }\r\n      }\r\n      recognition.onstart = () => {\r\n        console.log(`מיקרופון פועל`);\r\n      }\r\n      recognition.onresult = e => {\r\n        let current = e.resultIndex;\r\n        let transcript = e.results[current][0].transcript;\r\n        let mobileRepeatBug = (current === 1 && transcript === e.results[0][0].transcript);\r\n\r\n        if (!mobileRepeatBug){\r\n          setNote(transcript)\r\n          recognition.onerror = e => console.log(e.error);\r\n          if (transcript === 'מחק' || transcript === ' מחק'){\r\n            setSaveNote([...saveNote]);\r\n          }\r\n        }\r\n\r\n      }        \r\n    } catch (error) {\r\n      console.log(error);      \r\n    }\r\n  }\r\n  useEffect(() => {\r\n    handleListen()\r\n  }, [handleListen, isList])\r\n\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\n  const handleSaveNote = () => {\r\n    setSaveNote([...saveNote, note]);\r\n    setNote('');\r\n  }\r\n\r\n  return (\r\n    <>\r\n  <div className=\"container-fluid px-0 height-100 bg-dark text-light text-center pt-3\">\r\n    <div className=\"bg-dark text-light px-5 pt-2\">\r\n        <h1 className=\"display-1\"><a href=\"https://milim.cf\" className=\"nav-link hp-title text-secondary\">וַיְדַבֵּר</a></h1>\r\n        <h4 className=\"font-weight-light mb-2\">תמלול בזמן אמת</h4>\r\n          {isList ? <span>&#127908;</span> : <span>&#127908;\t&#128308;</span>}\r\n          <div className=\"row p-5 mx-2\">\r\n          <button onClick={() => setIsList(prevState => !prevState)} className=\"col-xl-5 mb-1 btn btn-outline-danger py-5\">הקלטה / עצירה</button>\r\n          <span className=\"col-2 \"></span>\r\n          <button onClick={handleSaveNote } disabled={!note} className=\"col-xl-5 mb-1 btn btn-outline-success py-5\">שמירה</button>\r\n            <p className=\"col-12 h4 mt-2\">{note}</p>\r\n          </div>\r\n      </div>\r\n      <div className=\"bg-dark text-light px-5 mx-auto ouput-size\">\r\n          <h1 className=\"h3\">הטקסט שלך: {note}</h1>\r\n          <div className=\"form-row justify-content-center pb-3\">\r\n            {saveNote.map(n => \r\n                    <span className=\"p mt-5 card text-dark\" key={n}>{n}&#160;</span>\r\n              )}         \r\n          </div>\r\n      </div>\r\n      <Footer />      \r\n  </div>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}