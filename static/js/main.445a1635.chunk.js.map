{"version":3,"sources":["Footer.js","App.js","index.js"],"names":["Footer","className","href","recognition","window","SpeechRecognition","webkitSpeechRecognition","App","useState","isList","setIsList","note","setNote","saveNote","setSaveNote","handleListen","start","onend","console","log","setTimeout","stop","onstart","onresult","e","current","resultIndex","transcript","results","onerror","error","useEffect","aria-label","role","onClick","prevState","disabled","map","n","contentEditable","key","class","continuous","interimResults","lang","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oKAEe,SAASA,IACpB,OACI,oCACA,4BAAQC,UAAU,kBAChB,uBAAGA,UAAU,UAAb,aACA,0BAAMA,UAAU,OAAhB,WADA,MACyC,uBAAGA,UAAU,mBAAmBC,KAAK,8BAArC,uBCLnD,IACMC,EAAc,IADMC,OAAOC,mBAAqBD,OAAOE,yBAM9C,SAASC,IAAO,IAAD,EAEAC,oBAAS,GAFT,mBAErBC,EAFqB,KAEbC,EAFa,OAGJF,mBAAS,MAHL,mBAGrBG,EAHqB,KAGfC,EAHe,OAIIJ,mBAAS,IAJb,mBAIrBK,EAJqB,KAIXC,EAJW,KAM9B,IACE,IAAMC,EAAe,WACnB,IACKN,GACDN,EAAYa,QAEZb,EAAYc,MAAQ,WAClBC,QAAQC,IAAR,qCACAC,YAAW,WACTjB,EAAYa,UACZ,MAGJb,EAAYkB,OACZlB,EAAYc,MAAQ,WAClBC,QAAQC,IAAR,oCAGJhB,EAAYmB,QAAU,WACpBJ,QAAQC,IAAR,8EAEFhB,EAAYoB,SAAW,SAAAC,GACrB,IAAIC,EAAUD,EAAEE,YACZC,EAAaH,EAAEI,QAAQH,GAAS,GAAGE,WACJ,IAAZF,GAAiBE,IAAeH,EAAEI,QAAQ,GAAG,GAAGD,aAGrEf,EAAQe,GACRT,QAAQC,IAAIQ,GACZxB,EAAY0B,QAAU,SAAAL,GAAC,OAAIN,QAAQC,IAAIK,EAAEM,QACtB,uBAAfH,GAAuC,wBAAfA,GAC1Bb,EAAY,YAAID,MAKtB,MAAOiB,GACPZ,QAAQC,IAAIW,KAGhBC,qBAAU,WACRhB,MACC,CAACA,EAAcN,IAElB,MAAOqB,GACPZ,QAAQC,IAAIW,GAOZ,OAAS,oCACT,yBAAK7B,UAAU,4EACf,wBAAIA,UAAU,MAAK,uBAAGC,KAAK,mBAAmBD,UAAU,YAArC,iEACjB,yBAAKA,UAAU,wBACX,wBAAIA,UAAU,+BAAd,8EACGQ,EAAS,0BAAMuB,aAAW,MAAMC,KAAK,OAA5B,gBAAqD,0BAAMD,aAAW,MAAMC,KAAK,OAA5B,6BAC/D,yBAAKhC,UAAU,iBACf,4BAAQiC,QAAS,kBAAMxB,GAAU,SAAAyB,GAAS,OAAKA,MAAYlC,UAAU,6CAArE,mEACA,0BAAMA,UAAU,UAChB,4BAAQiC,QAdO,WACrBpB,EAAY,GAAD,mBAAKD,GAAL,CAAeF,KAC1BC,EAAQD,IAYgCyB,UAAWzB,EAAMV,UAAU,8CAA7D,mCAEA,wBAAIA,UAAU,MAAMU,IAGxB,yBAAKV,UAAU,kDACX,wBAAIA,UAAU,MAAK,0BAAMA,UAAU,qDAAhB,8DACnB,yBAAKA,UAAU,YACZY,EAASwB,KAAI,SAAAC,GAAC,OAAI,wBAAIC,iBAAe,EAACtC,UAAU,8BAA8BuC,IAAKF,GAAIA,EAAE,0CAC1F,uBAAGG,MAAM,0DAAT,uQAGN,yBAAKxC,UAAU,QAAO,kBAACD,EAAD,SAnF5BG,EAAYuC,YAAa,EACzBvC,EAAYwC,gBAAiB,EAC7BxC,EAAYyC,KAAO,Q,MCDnBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACxC,EAAD,OAEFyC,SAASC,eAAe,U","file":"static/js/main.445a1635.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <>\r\n        <footer className=\"footer bg-dark\">\r\n          <p className=\"p mb-0\"> Made with \r\n          <span className=\"red\"> &#10084;</span>by <a className=\"badge badge-info\" href=\"https://github.com/gurelbs\">Gurel Ben Shabat</a></p>\r\n      </footer>\r\n      </>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\nimport Footer from './Footer';\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\nconst recognition = new SpeechRecognition();\nrecognition.continuous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'he-IL';\n\nexport default function App() {\n\n  const [isList, setIsList] = useState(false);\n  const [note, setNote] = useState(null);\n  const [saveNote, setSaveNote] = useState([]);\n\ntry {\n  const handleListen = () => {\n    try {\n      if(isList){\n        recognition.start();\n\n        recognition.onend = () => {\n          console.log(`ממשיך...`);\n          setTimeout(() => {\n            recognition.start();\n          },1)\n        }\n      } else {\n        recognition.stop();\n        recognition.onend = () => {\n          console.log(`מפסיק`);\n        }\n      }\n      recognition.onstart = () => {\n        console.log(`מיקרופון פועל`);\n      }\n      recognition.onresult = e => {\n        let current = e.resultIndex;\n        let transcript = e.results[current][0].transcript;\n        let mobileRepeatBug = (current === 1 && transcript === e.results[0][0].transcript);\n\n        if (!mobileRepeatBug){\n          setNote(transcript)\n          console.log(transcript);\n          recognition.onerror = e => console.log(e.error);\n          if (transcript === 'מחק' || transcript === ' מחק'){\n            setSaveNote([...saveNote]);\n          }\n        }\n\n      }        \n    } catch (error) {\n      console.log(error);      \n    }\n  }\n  useEffect(() => {\n    handleListen()\n  }, [handleListen, isList])\n\n} catch (error) {\n  console.log(error);\n}\n  const handleSaveNote = () => {\n    setSaveNote([...saveNote, note]);\n    setNote(note);\n  }\n\n  return ( <>\n  <div className=\"container-fluid px-0 height-100 text-light text-center pt-3 offset-photo\">\n  <h1 className=\"h1\"><a href=\"https://milim.cf\" className=\"hp-title\">וַיְדַבֵּר</a></h1>\n    <div className=\"text-light px-5 pt-5\">\n        <h4 className=\"m-5 font-weight-light mb-2 \">תמלול בזמן אמת</h4>\n          {isList ? <span aria-label='img' role=\"img\">&#127908;</span> : <span aria-label='img' role=\"img\">&#127908;\t&#128308;</span>}\n          <div className=\"row p-5 mx-2 \">\n          <button onClick={() => setIsList(prevState => !prevState)} className=\"col-xl-5 mb-1 btn btn-outline-danger py-5\">הקלטה / עצירה</button>\n          <span className=\"col-2\"></span>\n          <button onClick={handleSaveNote } disabled={!note} className=\"col-xl-5 mb-1 btn btn-outline-success py-5\">שמירה</button>\n          </div>\n          <h2 className=\"h2\">{note}</h2>\n\n      </div>\n      <div className=\"text-dark bg-light px-5 mx-auto ouput-size p-3\">\n          <h1 className=\"h1\"><span className=\"mt-5 px-5 text-light badge text-secondary bg-dark\">התמליל שלך: </span></h1>\n          <div className=\"form-row\">\n            {saveNote.map(n => <h4 contentEditable className=\"px-0 h4 my-0 py-0 text-dark\" key={n}>{n}<span>&#160;</span></h4>)}        \n            <p class=\"col-12 text-muted  pt-5 mt-5 mb-0 pb-0 align-items-end\">העזרו בפקודה הקולית 'מחק', כדי למחוק את התמליל השמור</p>\n          </div>\n      </div>\n      <div className=\"mt-5\"><Footer /></div>      \n  </div>\n    </>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './../node_modules/bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}